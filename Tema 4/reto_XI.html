<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Retos XI - Javier Parodi</title>
</head>

<body>
    <h1>Tortura Vikinga</h1>
    <script>
        var vikings = '{"vikingos":[{"reino":"Noruega","reyes":["Hakon","Harald",["Ivar",["Olaf","Lars","Lasse"],"Bjorn"],"Ragnar"]},{"reino":"Dinamarca","reyes":["Frodo","Hamming",["Angantyr","Sarunas"],"Horik"]}]}';        // skriv inn koden din her. Vær forsiktig med at json-en jukser. Det er ikke en matrise, men et objekt.

        var lista_recursiva = (lista_total, lista) => {

            lista_total.map(x => {

                if (!Array.isArray(x))
                    lista.push(x);

                else
                    lista_recursiva(x, lista);
            })

            return lista;
        }

        var es_rey = (nombre) => {

            let es_rey = false;

            let lista_vikingos = JSON.parse(vikings).vikingos; //Pasamos JSON a lista

            lista_vikingos.map(x => {

                let reyes = [];
                reyes = lista_recursiva(x.reyes, reyes) //Guarda en un array unidimensional

                if (reyes.find(r => r == nombre))
                    es_rey = true;
            });

            return es_rey;
        }

        console.log("¿Es Olaf un rey?");
        es_rey("Olaf") ? console.log("Sí") : console.log("No");
        console.log("¿Es Pepe un rey?");
        es_rey("Pepe") ? console.log("Sí") : console.log("No");
        console.log("¿Es Bjorn un rey?");
        es_rey("Bjorn") ? console.log("Sí") : console.log("No");

    </script>
</body>

</html>