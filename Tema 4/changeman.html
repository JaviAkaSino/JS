<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Changeman - Javier Parodi</title>
</head>

<body>
    <ol id="lista">
        <li>Perico</li>
        <li>Juanico</li>
        <ul>
            <li>Jose</li>
            <ul>
                <li>Roman</li>
                <li>Marco</li>
                <li>Rodrigo</li>
            </ul>
            <li>Jose</li>
            <li>Lorenzo</li>
            <ul>
                <li>Dimas</li>
                <li>Gestas</li>
                <li>Malakatos</li>
                <li>Jose</li>
            </ul>
        </ul>
        <li>Sofoclis</li>
    </ol>

    <script>

        changeMan = (obj, man1, man2) => {
            if (obj.tagName=="LI") {
                if (obj.innerHTML.toUpperCase() == man1)
                    obj.innerHTML = man2;

            } else {
                Array.from(obj.children).map(c => changeMan(c, man1, man2)) ;
            }

        }


        changeMan(document.getElementById("lista"), 'JOSE', 'PEPE');
    </script>

</body>

</html>